(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47b833d6"],{"13ba":function(t,e,a){},"48a0":function(t,e,a){"use strict";a("13ba")},4979:function(t,e,a){"use strict";a("ab2a")},"4ec9":function(t,e,a){"use strict";a("ec2c")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("1d80"),i=a("5899"),o="["+i+"]",n=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),c=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(r,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5cec":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-container"},[a("div",{staticClass:"quotation-filter"},[a("Options",{on:{sendinboxdata:function(e){return t.passData(e)}}}),a("InboxFiltro",{attrs:{inboxData:t.inboxData,items:t.inboxItems}})],1)])},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inbox"},[a("div",{staticClass:"inbox-container"},[a("div",{staticClass:"inbox-cards"},[a("div",{staticClass:"card-side"},t._l(t.inboxData,(function(e,s){return a("div",{key:s,staticClass:"card-index"},[a("div",{staticClass:"single-card-container ",class:t.selectedCot.name==e.nombre_cotizacion?"selected-card":"",on:{click:function(e){return t.showCot(s)}}},[a("CardFiltro",{attrs:{name:e.nombre_cotizacion,author:e.autor_solicitud,status:e.estado_cotizacion}})],1)])})),0)]),a("div",{staticClass:"inbox-selected"},[""===t.selectedCot.name?a("div"):a("div",[a("VistaCot",{attrs:{cot:t.selectedCot}})],1)])])])},n=[],r=a("1da1"),c=a("5530"),l=(a("96cf"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"card-head"},[a("h3",[t._v(t._s(t.name))])]),a("div",{staticClass:"card-author"},[t._v(t._s(t.author))]),a("div",{staticClass:"card-status"},[t._v(t._s(t.status))])])}),d=[],u={name:"CardFiltro",data:function(){return{}},props:{name:String,author:String,status:String}},m=u,p=(a("8a4e"),a("2877")),v=Object(p["a"])(m,l,d,!1,null,"3e13519c",null),f=v.exports,h=a("2f62"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-quotation-details"},[a("div",{staticClass:"head-part"},[a("div",{staticClass:"head-top"},[a("h2",[t._v(t._s(t.cot.name))]),a("div",{staticClass:"time"},[t._v(t._s(t.cot.date))])]),a("h5",[t._v("Items: ")]),a("div",{staticClass:"items"},[a("table",{staticClass:"items-list",staticStyle:{border:"1px solid","border-collapse":"collapse"}},[t._m(0),a("tbody",t._l(t.items,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid"}},[t._v(t._s(e.cantidad_solicitud))]),a("td",{staticStyle:{border:"1px solid"}},[t._v(t._s(e.unidad_solicitud))]),a("td",{staticStyle:{border:"1px solid"}},[t._v(t._s(e.detalle_solicitud))]),a("td",{staticStyle:{border:"1px solid"}}),a("td",{staticStyle:{border:"1px solid"}})])})),0)])]),a("div",{staticClass:"confirmed-companies"},[a("div",{staticClass:"confirmed-title"},[t._v("Empresa:")]),a("div",{staticClass:"copany-name"},[t._v(t._s(t.cot.company))])])])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{border:"1px solid"}},[t._v("Cantidad")]),a("th",{staticStyle:{border:"1px solid"}},[t._v("Unidad")]),a("th",{staticStyle:{border:"1px solid"}},[t._v("Detalle")]),a("th",{staticStyle:{border:"1px solid"}},[t._v("Unitario")]),a("th",{staticStyle:{border:"1px solid"}},[t._v("Total")])])])}],x=(a("a9e3"),{name:"VistaCot",computed:Object(c["a"])({},Object(h["c"])(["token"])),data:function(){return{}},props:{cot:{cod:Number,name:String,date:String,author:String,itemList:Array,company:String}}}),C=x,g=(a("4979"),Object(p["a"])(C,b,_,!1,null,"a7a008fa",null)),y=g.exports,k={name:"InboxFiltro",computed:Object(c["a"])({},Object(h["c"])(["token"])),components:{CardFiltro:f,VistaCot:y},data:function(){return{selectedCot:{name:"",date:"",author:"",status:"",itemList:[],company:""}}},props:{inboxData:Array,items:Array},methods:{showCot:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.selectedCot.name=e.inboxData[t].nombre_cotizacion,e.selectedCot.date=e.inboxData[t].fecha_cotizacion,e.selectedCot.author=e.inboxData[t].autor_solicitud,e.selectedCot.status=e.inboxData[t].estado_cotizacion,e.selectedCot.itemList=e.items[t],e.selectedCot.company=e.inboxData[t].empresa;case 6:case"end":return a.stop()}}),a)})))()}}},I=k,S=(a("beee"),Object(p["a"])(I,o,n,!1,null,"bd3d62f6",null)),w=S.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cot-filters"},[a("div",{staticClass:"filter-title"},[t._v("Filtros")]),a("div",{staticClass:"filter-categories"},[a("div",{staticClass:"filter-date"},[a("div",{staticClass:"option-title"},[t._v("Fecha")]),a("div",{staticClass:"date-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.months,expression:"months"}],staticClass:"time-set",attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.months,"1")},on:{change:[function(e){t.months="1"},t.getData]}}),a("div",{staticClass:"date-label"},[t._v("Último mes")])]),a("div",{staticClass:"date-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.months,expression:"months"}],staticClass:"time-set",attrs:{type:"radio",value:"3"},domProps:{checked:t._q(t.months,"3")},on:{change:[function(e){t.months="3"},t.getData]}}),a("div",{staticClass:"date-label"},[t._v("Último trimestre")])]),a("div",{staticClass:"date-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.months,expression:"months"}],staticClass:"time-set",attrs:{type:"radio",value:"6"},domProps:{checked:t._q(t.months,"6")},on:{change:[function(e){t.months="6"},t.getData]}}),a("div",{staticClass:"date-label"},[t._v("Último semestre")])]),a("div",{staticClass:"date-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.months,expression:"months"}],staticClass:"time-set",attrs:{type:"radio",value:"12"},domProps:{checked:t._q(t.months,"12")},on:{change:[function(e){t.months="12"},t.getData]}}),a("div",{staticClass:"date-label"},[t._v("Último año")])]),a("div",{staticClass:"date-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.months,expression:"months"}],staticClass:"time-set",attrs:{type:"radio",value:"100"},domProps:{checked:t._q(t.months,"100")},on:{change:[function(e){t.months="100"},t.getData]}}),a("div",{staticClass:"date-label"},[t._v("Todo")])])]),a("div",{staticClass:"filter-item"},[a("div",{staticClass:"option-title"},[t._v("Item")]),a("div",{staticClass:"item-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.items,expression:"items"}],staticClass:"item-type",attrs:{type:"checkbox",value:"Products"},domProps:{checked:Array.isArray(t.items)?t._i(t.items,"Products")>-1:t.items},on:{change:[function(e){var a=t.items,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o="Products",n=t._i(a,o);s.checked?n<0&&(t.items=a.concat([o])):n>-1&&(t.items=a.slice(0,n).concat(a.slice(n+1)))}else t.items=i},t.getData]}}),a("div",{staticClass:"item-label"},[t._v("Productos")])]),a("div",{staticClass:"item-set"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.items,expression:"items"}],staticClass:"item-type",attrs:{type:"checkbox",value:"Services"},domProps:{checked:Array.isArray(t.items)?t._i(t.items,"Services")>-1:t.items},on:{change:[function(e){var a=t.items,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o="Services",n=t._i(a,o);s.checked?n<0&&(t.items=a.concat([o])):n>-1&&(t.items=a.slice(0,n).concat(a.slice(n+1)))}else t.items=i},t.getData]}}),a("div",{staticClass:"item-label"},[t._v("Servicios")])])]),a("div",{staticClass:"filter-market"},[a("div",{staticClass:"option-title"},[t._v("Rubro")]),a("div",{staticClass:"lists-cont"},[a("div",{staticClass:"market-cat"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.market,expression:"market"}],staticClass:"market-list",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.market=e.target.multiple?a:a[0]},t.getCompanies]}},[a("option",{attrs:{disabled:"true"}},[t._v(t._s(t.market))]),t._l(t.marketsList,(function(e,s){return a("option",{key:s,staticClass:"list-option",domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)]),a("div",{staticClass:"market-comp"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],staticClass:"market-list",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.company=e.target.multiple?a:a[0]},t.getData]}},[a("option",{attrs:{disabled:"true"}},[t._v(t._s(t.company))]),t._l(t.companiesList,(function(e,s){return a("option",{key:s,staticClass:"list-option",domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)])])])])])},z=[],A={name:"Options",computed:Object(c["a"])({},Object(h["c"])(["token"])),data:function(){return{months:100,items:["Products","Services"],market:"Todos",company:"Todas",marketsList:["Todos"],companiesList:["Todas"],filteredInbox:[{nombre_cotizacion:"",fecha_cotizacion:"",autor_solicitud:"",estado_cotizacion:"",empresa:""}],filteredItems:[]}},methods:{getCompanies:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.companiesList=["Todas"],t.company="Todas","Todos"!=t.market){e.next=8;break}return e.next=5,t.$http.get("company?rubro=All",{headers:{authorization:t.token}});case 5:a=e.sent.data,e.next=11;break;case 8:return e.next=10,t.$http.get("company?rubro=".concat(t.market),{headers:{authorization:t.token}});case 10:a=e.sent.data;case 11:for(s=0;s<a.length;s++)t.companiesList.push(a[s].nombre_empresa);t.getData();case 13:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s,i,o,n,r,c,l,d,u,m,p,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="",s="",i="",o="",100!=t.months&&(a="&month="+t.months),1==t.items.length&&(s="&items="+t.items[0]),"Todos"!=t.market&&(i="&rubro="+t.market),"Todas"!=t.company&&(o="empresa="+t.company),e.next=10,t.$http.get("quotation?type=criteria"+a+"&from=depto&nombre=".concat(localStorage.getItem("depto"))+s+i+o,{headers:{authorization:t.token}});case 10:n=e.sent.data,r=0;case 12:if(!(r<n.length)){e.next=35;break}return t.filteredInbox[r].nombre_cotizacion=n[r].titulo_cotizacion,t.filteredInbox[r].fecha_cotizacion=n[r].fecha_cotizacion,t.filteredInbox[r].fecha_cotizacion=t.filteredInbox[r].fecha_cotizacion.substr(5,t.filteredInbox[r].fecha_cotizacion.indexOf("T")),t.filteredInbox[r].fecha_cotizacion=t.filteredInbox[r].fecha_cotizacion.substr(0,t.filteredInbox[r].fecha_cotizacion.indexOf("T")),e.next=19,t.$http.get("request?type=criteria&status=ACEPTADA&from=depto&nombre=".concat(localStorage.getItem("depto")),{headers:{authorization:t.token}});case 19:for(c=e.sent.data,l=0;l<c.length;l++)c[l].cod_solicitud==n[r].cod_solicitud&&(t.filteredInbox[r].autor_solicitud=c[l].usuario_solicitante);return t.filteredInbox[r].estado_cotizacion=n[r].estado_cotizacion,e.next=24,t.$http.get("companiesperrequest/".concat(n[r].cod_solicitud),{headers:{authorization:t.token}});case 24:for(d=e.sent.data,u=0;u<d.datos.length;u++)d.datos[u].cod_empresa==n[r].cod_empresa&&(t.filteredInbox[r].empresa=d.datos[u].nombre_empresa);return e.next=28,t.$http.get("itemsPerRequest?searchby=solicitud&typeinput=codigo&inputdata=".concat(n[r].cod_solicitud),{headers:{authorization:t.token}});case 28:for(m=e.sent.data.datos,p=[],v=0;v<m.length;v++)p.push(m[v]);t.filteredItems.push(p);case 32:r++,e.next=12;break;case 35:t.$emit("sendinboxdata",t.filteredInbox,t.filteredItems);case 36:case"end":return e.stop()}}),e)})))()},setMarketList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("market",{headers:{authorization:t.token}});case 2:for(a=e.sent.data,s=0;s<a.datos.length;s++)t.marketsList.push(a.datos[s].nombre_rubro);t.getData();case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.setMarketList()}},D=A,O=(a("4ec9"),Object(p["a"])(D,N,z,!1,null,"15ae965b",null)),E=O.exports,T={name:"QuotationFilter",components:{Options:E,InboxFiltro:w},data:function(){return{inboxData:[],inboxItems:[]}},methods:{passData:function(t,e){this.inboxData=t,this.inboxItems=e}}},P=T,F=(a("48a0"),Object(p["a"])(P,s,i,!1,null,"431e7f87",null));e["default"]=F.exports},7156:function(t,e,a){var s=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var o,n;return i&&"function"==typeof(o=e.constructor)&&o!==a&&s(n=o.prototype)&&n!==a.prototype&&i(t,n),t}},"8a4e":function(t,e,a){"use strict";a("f4b1")},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),o=a("94ca"),n=a("6eeb"),r=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),m=a("7c73"),p=a("241c").f,v=a("06cf").f,f=a("9bf2").f,h=a("58a8").trim,b="Number",_=i[b],x=_.prototype,C=c(m(x))==b,g=function(t){var e,a,s,i,o,n,r,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+l}for(o=l.slice(2),n=o.length,r=0;r<n;r++)if(c=o.charCodeAt(r),c<48||c>i)return NaN;return parseInt(o,s)}return+l};if(o(b,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var y,k=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof k&&(C?u((function(){x.valueOf.call(a)})):c(a)!=b)?l(new _(g(e)),a,k):g(e)},I=s?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;I.length>S;S++)r(_,y=I[S])&&!r(k,y)&&f(k,y,v(_,y));k.prototype=x,x.constructor=k,n(i,b,k)}},ab2a:function(t,e,a){},b0c0:function(t,e,a){var s=a("83ab"),i=a("9bf2").f,o=Function.prototype,n=o.toString,r=/^\s*function ([^ (]*)/,c="name";s&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return n.call(this).match(r)[1]}catch(t){return""}}})},beee:function(t,e,a){"use strict";a("fb27")},ec2c:function(t,e,a){},f4b1:function(t,e,a){},fb27:function(t,e,a){}}]);
//# sourceMappingURL=chunk-47b833d6.bee50cd7.js.map