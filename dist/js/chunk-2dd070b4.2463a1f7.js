(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dd070b4"],{1276:function(e,t,i){"use strict";var a=i("d784"),r=i("44e7"),n=i("825a"),o=i("1d80"),s=i("4840"),c=i("8aa5"),l=i("50c4"),u=i("14c3"),d=i("9263"),m=i("9f7f"),v=m.UNSUPPORTED_Y,_=[].push,g=Math.min,p=4294967295;a("split",2,(function(e,t,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var a=String(o(this)),n=void 0===i?p:i>>>0;if(0===n)return[];if(void 0===e)return[a];if(!r(e))return t.call(a,e,n);var s,c,l,u=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=new RegExp(e.source,m+"g");while(s=d.call(g,a)){if(c=g.lastIndex,c>v&&(u.push(a.slice(v,s.index)),s.length>1&&s.index<a.length&&_.apply(u,s.slice(1)),l=s[0].length,v=c,u.length>=n))break;g.lastIndex===s.index&&g.lastIndex++}return v===a.length?!l&&g.test("")||u.push(""):u.push(a.slice(v)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r,i):a.call(String(r),t,i)},function(e,r){var o=i(a,e,this,r,a!==t);if(o.done)return o.value;var d=n(e),m=String(this),_=s(d,RegExp),f=d.unicode,h=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"g":"y"),b=new _(v?"^(?:"+d.source+")":d,h),C=void 0===r?p:r>>>0;if(0===C)return[];if(0===m.length)return null===u(b,m)?[m]:[];var x=0,w=0,y=[];while(w<m.length){b.lastIndex=v?0:w;var k,$=u(b,v?m.slice(w):m);if(null===$||(k=g(l(b.lastIndex+(v?w:0)),m.length))===x)w=c(m,w,f);else{if(y.push(m.slice(x,w)),y.length===C)return y;for(var S=1;S<=$.length-1;S++)if(y.push($[S]),y.length===C)return y;w=x=k}}return y.push(m.slice(x)),y}]}),v)},"1e31":function(e,t,i){},"44e7":function(e,t,i){var a=i("861d"),r=i("c6b6"),n=i("b622"),o=n("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},"4df4":function(e,t,i){"use strict";var a=i("0366"),r=i("7b0b"),n=i("9bdd"),o=i("e95a"),s=i("50c4"),c=i("8418"),l=i("35a1");e.exports=function(e){var t,i,u,d,m,v,_=r(e),g="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,h=void 0!==f,b=l(_),C=0;if(h&&(f=a(f,p>2?arguments[2]:void 0,2)),void 0==b||g==Array&&o(b))for(t=s(_.length),i=new g(t);t>C;C++)v=h?f(_[C],C):_[C],c(i,C,v);else for(d=b.call(_),m=d.next,i=new g;!(u=m.call(d)).done;C++)v=h?n(d,f,[u.value,C],!0):u.value,c(i,C,v);return i.length=C,i}},"5c0b":function(e,t,i){},"733d":function(e,t,i){},7624:function(e,t,i){"use strict";i("733d")},"7acf":function(e,t,i){"use strict";i("decb")},"7c33":function(e,t,i){"use strict";i("1e31")},"7e7c":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.permisoSolicitud?i("div",{staticClass:"soli_container"},[i("solicitud-datos")],1):e._e()},r=[],n=i("5530"),o=i("2f62"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-soli"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[i("div",{staticClass:"form_title"},[i("div",{staticClass:"formulario_label"},[e._v("Titulo:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.solicitud.nombre_solicitud,expression:"solicitud.nombre_solicitud"}],class:e.$v.solicitud.nombre_solicitud.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",name:"titulo"},domProps:{value:e.solicitud.nombre_solicitud},on:{input:function(t){t.target.composing||e.$set(e.solicitud,"nombre_solicitud",t.target.value)}}}),e.$v.solicitud.nombre_solicitud.required?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.solicitud.nombre_solicitud.maxLength?e._e():i("div",{staticClass:"form_check-error"},[e._v(" M치ximo "+e._s(e.$v.solicitud.nombre_solicitud.$params.maxLength.max)+"caracteres. ")]),e.$v.solicitud.nombre_solicitud.minLength?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Minimo 5 caracteres. ")]),e.$v.solicitud.nombre_solicitud.alpha1?e._e():i("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")])]),i("div",{staticClass:"lista"},[i("div",{staticClass:"izquierda"}),i("div",{key:e.componentKey,staticClass:"derecha",attrs:{id:"unidad"}},[i("lista-desplegable",{attrs:{required:"",nombreLista:"Unidad de gasto:",lista:e.listaUnidadesDeGasto,Mensaje:"Campo Obligatorio",value:e.solicitud.unidadgasto_solicitud},model:{value:e.solicitud.unidadgasto_solicitud,callback:function(t){e.$set(e.solicitud,"unidadgasto_solicitud",t)},expression:"solicitud.unidadgasto_solicitud"}}),e.$v.solicitud.unidadgasto_solicitud.validate_requerido_listas?e._e():i("div",{staticClass:"form_check-error mensaje"},[e._v(" Campo obligatorio. ")])],1)]),i("div",{staticClass:"form__justficacion"},[i("div",{staticClass:"formulario_label"},[e._v("Detalle de solicitud:")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.solicitud.detalle_solicitud,expression:"solicitud.detalle_solicitud"}],class:e.$v.solicitud.detalle_solicitud.$invalid?"form_check-input-error tama침o":"form__input tama침o",attrs:{rows:"7",cols:"50",type:"text",name:"detalle"},domProps:{value:e.solicitud.detalle_solicitud},on:{input:function(t){t.target.composing||e.$set(e.solicitud,"detalle_solicitud",t.target.value)}}}),e.$v.solicitud.detalle_solicitud.required?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.solicitud.detalle_solicitud.maxLength?e._e():i("div",{staticClass:"form_check-error"},[e._v(" M치ximo "+e._s(e.$v.solicitud.detalle_solicitud.$params.maxLength.max)+"caracteres. ")]),e.$v.solicitud.detalle_solicitud.minLength?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Minimo 5 caracteres. ")])]),i("div",{staticClass:"seccion2"},[i("div",{staticClass:"seccion__Izq"},["Servicios"!=this.solicitud.categoria_general?i("div",{staticClass:"formulario_label seccion__Izq-titulo"},[e._v(" Agregar un nuevo item: ")]):e._e(),"Servicios"===this.solicitud.categoria_general?i("div",{staticClass:"formulario_label seccion__Izq-titulo"},[e._v(" Agregar un Servicio: ")]):e._e(),i("div",{staticClass:"seccion__Izq-fila1"},[i("div",{staticClass:"categoriaGeneral",on:{click:e.getSpeCategories}},[i("lista-desplegable-change",{attrs:{required:"",nombreLista:"Categoria General:",lista:e.listaCatGen,value:e.solicitud.categoria_general},on:{change:function(t){return e.verificarCategoriaDistinta()}},model:{value:e.solicitud.categoria_general,callback:function(t){e.$set(e.solicitud,"categoria_general",t)},expression:"solicitud.categoria_general"}})],1),i("div",{staticClass:"form__categoria"},[i("div",{staticClass:"container__label"},[e._v("Categoria especifica:")]),i("div",{key:e.componentKey3,staticClass:"contenedor-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.solicitud.categoria,expression:"solicitud.categoria"}],staticClass:"container__list",attrs:{name:"categoria"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.solicitud,"categoria",t.target.multiple?i:i[0])},function(t){e.obtenerItems(),e.forceRerender4()}]}},[i("option",{attrs:{disabled:"true"}},[e._v(e._s(e.solicitud.categoria))]),e._l(e.listaCategorias1,(function(t,a){return i("option",{key:a,staticClass:"container__list__option",domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])])]),i("div",{staticClass:"seccion__Izq-fila2"},["Servicios"!=this.solicitud.categoria_general?i("div",{staticClass:"form__cantidad"},[i("div",{staticClass:"formulario_label"},[e._v(" Cantidad: ")]),i("div",{staticClass:"cantidad-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.elemento.cantidad,expression:"elemento.cantidad"}],class:e.$v.elemento.cantidad.$invalid?"form_check-input-error":"form__input",attrs:{required:!e.habilitar,disabled:!e.disabled,type:"number",name:"cantidad"},domProps:{value:e.elemento.cantidad},on:{input:function(t){t.target.composing||e.$set(e.elemento,"cantidad",t.target.value)}}})]),e.$v.elemento.cantidad.between?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Ingrese valores entre 1-100. ")]),e.$v.elemento.cantidad.integer?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Solo valores enteros. ")])]):e._e(),"Servicios"!=this.solicitud.categoria_general?i("div",{staticClass:"form__cantidad"},[i("div",{staticClass:"formulario_label"},[e._v(" Unidad: ")]),i("div",{staticClass:"cantidad-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.elemento.unidad,expression:"elemento.unidad"}],class:e.$v.elemento.unidad.$invalid?"form_check-input-error":"form__input",attrs:{required:!e.habilitar,disabled:!e.disabled,type:"text",name:"unidad"},domProps:{value:e.elemento.unidad},on:{input:function(t){t.target.composing||e.$set(e.elemento,"unidad",t.target.value)}}}),e.$v.elemento.unidad.alpha3?e._e():i("div",{staticClass:"form_check-error"},[e._v(" No se permite esos caracteres. ")])])]):e._e()])]),i("div",{staticClass:"seccion__Der"},[i("div",[i("div",{staticClass:"container-nombre-item"},[i("div",{staticClass:"container__label"},[e._v(" Item: ")]),i("div",{key:e.componentKey4,staticClass:"contenedor-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.solicitud.nombre_item,expression:"solicitud.nombre_item"}],key:e.componentKey4,staticClass:"container__listNuevo",attrs:{required:"",name:"item"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.solicitud,"nombre_item",t.target.multiple?i:i[0])},function(t){return e.obtenerDescripcion()}]}},[i("option",{attrs:{disabled:"true"}},[e._v(e._s(e.solicitud.nombre_item))]),e._l(e.listItems,(function(t,a){return i("option",{key:a,staticClass:"container__list__option",domProps:{value:t}},[e._v(" "+e._s(t))])}))],2)])])]),i("div",{staticClass:"form__boton"},[i("a",{class:e.desabilitar?"btn btn-success button-disabled":"btn btn-success boton-agregar",attrs:{disabled:e.desabilitar,id:"agregar"},on:{click:function(t){return e.agregarItem()}}},[e._v("Agregar")])])])]),0==this.listaPeticion.length?i("h4",{staticClass:"form_check-error"},[e._v(" (*) Agregue un item ")]):e._e(),i("div",{staticClass:"seccion3"},["Seleccione una opcion"!=e.solicitud.nombre_item?i("div",{staticClass:"form__descripcion"},[i("div",{staticClass:"formulario_label"},[e._v(" Descripci칩n: ")]),i("div",{staticClass:"form__descripcion-contenido"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descripcionItem,expression:"descripcionItem"}],staticClass:"form__input tama침o",attrs:{rows:"7",cols:"50",type:"text"},domProps:{value:e.descripcionItem},on:{input:function(t){t.target.composing||(e.descripcionItem=t.target.value)}}}),e._v(" "),e.$v.descripcionItem.required?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.descripcionItem.maxLength?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Maximo 1000 caracteres. ")])])]):e._e()]),0!=this.listaPeticion.length?i("div",{staticClass:"form__lista col-sm-8 col-sm-offset-2"},["Servicios"!=this.solicitud.categoria_general?i("div",{staticClass:"formulario_label"},[e._v(" Lista de items: ")]):e._e(),"Servicios"==this.solicitud.categoria_general?i("div",{staticClass:"formulario_label"},[e._v(" Lista de Servicios: ")]):e._e(),i("div",{staticClass:"form__tabla"},[i("table",{staticClass:"table table-hove table-bordered"},[e._m(0),i("tbody",e._l(this.listaPeticion,(function(t,a){return i("tr",{key:a},[i("td",[e._v(" "+e._s(t.cantidad)+" ")]),i("td",[e._v(" "+e._s(t.unidad_solicitud)+" ")]),i("td",[e._v(" "+e._s(t.nombre_item)+" ")]),i("td",[e._v(" "+e._s(t.categoria_general)+" ")]),i("td",[e._v(" "+e._s(t.detalle_solicitud)+" ")]),i("td",[i("a",{staticClass:"btn btn-danger eliminarBoton",on:{click:function(t){return e.eliminarItems(a)}}},[e._v("Eliminar")])])])})),0)])])]):e._e(),i("div",{staticClass:"form__presupuesto"},[i("div",{staticClass:"aux-izquierdo"}),i("div",{staticClass:"presupuesto"},[i("div",{staticClass:"formulario_label"},[e._v("Presupuesto:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.solicitud.estimado_solicitud,expression:"solicitud.estimado_solicitud"}],class:e.$v.solicitud.estimado_solicitud.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",name:"presupuesto"},domProps:{value:e.solicitud.estimado_solicitud},on:{input:function(t){t.target.composing||e.$set(e.solicitud,"estimado_solicitud",t.target.value)}}}),e.$v.solicitud.estimado_solicitud.required?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Campo Obligatorio. ")]),e.$v.solicitud.estimado_solicitud.between?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Ingrese valores entre (1-10000). ")]),e.$v.solicitud.estimado_solicitud.validate_decimales?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Maximo 2 decimales. ")]),e.$v.solicitud.estimado_solicitud.alpha2?e._e():i("div",{staticClass:"form_check-error"},[e._v(" Ingrese un valor num칠rico. ")])])]),i("Alert",{ref:"alert"}),i("alert-2",{ref:"alert2",attrs:{aceptar:"Aceptar",mensajeSub:"(Se borrara la lista de presupuestos si presiona aceptar.)"},on:{escucharHijo:e.variableHijo,escucharHijo1:e.variableHijo1}}),e._m(1)],1)])},c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",{staticClass:"primera-fila"},[i("th",[e._v("Cantidad")]),i("th",[e._v("Unidad")]),i("th",[e._v("Item")]),i("th",[e._v("Categoria")]),i("th",[e._v("Detalle")]),i("th",[e._v("Eliminar")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"boton-contenedor"},[i("div",{staticClass:"boton-contenedor-izq"}),i("div",{staticClass:"boton-contenedor-der"},[i("input",{staticClass:"btn btn-success boton-agregar",attrs:{type:"submit",value:"Enviar",id:"enviar"}})])])}],l=i("b85c"),u=i("1da1"),d=(i("96cf"),i("ac1f"),i("1276"),i("a434"),i("b5ae")),m=i("c906"),v=i("f3c4"),_=i("bfb0"),g=i("4360"),p=i("c27c"),f=d["helpers"].regex("alpha1",/^[a-zA-Z0-9침+치칠칤칩칰츼칄칈칍칔.\s]*$/),h=d["helpers"].regex("alpha2",/^[0-9,.\s]*$/),b=d["helpers"].regex("alpha3",/^[a-zA-Z침칌+치칠칤칩칰츼칄칈칍칔.\s]*$/),C=function(e){var t=String(e);return"Seleccione una opcion"!==t||(!d["helpers"].req(e)||"Seleccione una opcion"!=t)},x=function(e){var t=String(e);if(t.indexOf(".")>0){var i=t.split("."),a=String(i[1]);return!d["helpers"].req(e)||!(a.length>2)}return!0},w={components:{Alert:m["a"],ListaDesplegable:v["a"],Alert2:p["a"],ListaDesplegableChange:_["a"]},name:"SolicitudDatos",store:g["store"],mounted:function(){this.getGenCategories(),this.getCategories(),this.getDepartamento()},computed:Object(n["a"])({},Object(o["c"])(["token"])),data:function(){return{solicitud:{nombre_solicitud:null,detalle_solicitud:null,categoria:"Seleccione una opcion",categoria_general:"Seleccione una opcion",nombre_item:"Seleccione una opcion",unidadgasto_solicitud:"Seleccione una opcion",estimado_solicitud:null},elemento:{cantidad:null,unidad:null},listaCategorias:[],listaCategorias1:[],listItems:[],listaPeticion:[],variableRecibida:null,variableRecibida1:!0,item:"",disabled:!0,habilitar:!0,listaUnidadesDeGasto:[],descripcionItem:null,componentKey:0,componentKey3:0,componentKey4:0,listaCatGen:[],listaCodGen:[],desabilitar:!1}},validations:{solicitud:{nombre_solicitud:{required:d["required"],minLength:Object(d["minLength"])(5),maxLength:Object(d["maxLength"])(50),alpha1:f},detalle_solicitud:{required:d["required"],minLength:Object(d["minLength"])(5),maxLength:Object(d["maxLength"])(1e3)},unidadgasto_solicitud:{validate_requerido_listas:C},estimado_solicitud:{required:d["required"],between:Object(d["between"])(1,1e4),validate_decimales:x,alpha2:h}},elemento:{cantidad:{required:d["required"],between:Object(d["between"])(1,100),integer:d["integer"]},unidad:{required:d["required"],alpha3:b}},descripcionItem:{required:d["required"],maxLength:Object(d["maxLength"])(1e3)}},methods:{variableHijo:function(e){this.variableRecibida=e,this.variableRecibida&&(this.listaPeticion=[],this.desabilitar=!1)},variableHijo1:function(e){this.variableRecibida1=e},forceRerender:function(){this.componentKey+=1},forceRerender3:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.componentKey3+=1;case 1:case"end":return t.stop()}}),t)})))()},forceRerender4:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.solicitud.nombre_item="Seleccione una opcion",e.componentKey4+=1;case 2:case"end":return t.stop()}}),t)})))()},getGenCategories:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("generalCategory",{headers:{authorization:e.token}});case 2:i=t.sent.data,a=Object(l["a"])(i);try{for(a.s();!(r=a.n()).done;)n=r.value,e.listaCatGen.push(n.nombre_categoriageneral),e.listaCodGen.push(n.cod_categoriageneral)}catch(o){a.e(o)}finally{a.f()}return t.next=7,e.getSpeCategories();case 7:case"end":return t.stop()}}),t)})))()},getSpeCategories:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.forceRerender3();case 2:return e.listaCategorias1=[],e.solicitud.categoria="Seleccione una opcion",t.next=6,e.$http.get("specificCategory",{headers:{authorization:e.token}});case 6:i=t.sent.data,a=Object(l["a"])(i);try{for(a.s();!(r=a.n()).done;)n=r.value,n.cod_categoriageneral==e.listaCodGen[e.listaCatGen.indexOf(e.solicitud.categoria_general)]&&e.listaCategorias1.push(n.nombre_categoriaespecifica)}catch(o){a.e(o)}finally{a.f()}case 9:case"end":return t.stop()}}),t)})))()},envioItems:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"Servicios"===e.solicitud.categoria_general){i=Object(l["a"])(e.listaPeticion);try{for(i.s();!(a=i.n()).done;)r=a.value,r.cantidad=-1}catch(n){i.e(n)}finally{i.f()}}return t.next=4,e.$http.post("itemsPerRequest",{nombre_solicitud:e.solicitud.nombre_solicitud,items:e.listaPeticion},{headers:{authorization:e.token}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.alert("warning",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},submitForm:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$v.solicitud.$invalid||!(e.listaPeticion.length>0)){t.next=19;break}return t.next=4,e.$http.post("request",{nombre_solicitud:e.solicitud.nombre_solicitud,detalle_solicitud:e.solicitud.detalle_solicitud,estimado_solicitud:e.solicitud.estimado_solicitud,unidadgasto_solicitud:e.solicitud.unidadgasto_solicitud},{headers:{authorization:e.token}});case 4:return t.next=6,e.envioItems();case 6:e.alert("success","Solicitud enviada"),e.solicitud.nombre_solicitud=null,e.solicitud.detalle_solicitud=null,e.solicitud.categoria="Seleccione una opcion",e.solicitud.nombre_item="Seleccione una opcion",e.solicitud.unidadgasto_solicitud="Seleccione una opcion",e.solicitud.estimado_solicitud=null,e.listaPeticion=[],e.listaUnidadesDeGasto=[],e.getDepartamento(),e.forceRerender(),t.next=20;break;case 19:e.alert("warning","Rellene todos los datos correctamente");case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](0),e.alert("warning",t.t0),e.alert("warning","Algo salio mal");case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))()},getCategories:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("specificCategory",{headers:{authorization:e.token}});case 2:for(i=t.sent.data,a=0;a<i.length;a++)e.listaCategorias.push(i[a].nombre_categoriaespecifica);case 4:case"end":return t.stop()}}),t)})))()},verificarCategoriaDistinta:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(null!=e.solicitud.categoria&&e.listaPeticion.length>0)){t.next=4;break}return i=e.listaPeticion[e.listaPeticion.length-1].categoria_general,i!=e.solicitud.categoria_general?(e.alert2("warning","No puede seleccionar items de distinta categoria."),e.desabilitar=!0):e.desabilitar=!1,t.abrupt("return",e.desabilitar);case 4:case"end":return t.stop()}}),t)})))()},obtenerItems:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"Servicios"==e.solicitud.categoria_general?(e.disabled=!1,e.elemento.cantidad=null):e.disabled=!0,e.listItems=[],t.next=4,e.$http.get("expenseItem?type=cat&nombre=".concat(e.solicitud.categoria),{headers:{authorization:e.token}});case 4:for(i=t.sent.data,a=0;a<i.length;a++)e.listItems.push(i[a].nombre_itemgasto);case 6:case"end":return t.stop()}}),t)})))()},eliminarItems:function(e){this.listaPeticion.splice(e,1)},verificarSiEstaEnLista:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.listaPeticion.length>0)){t.next=16;break}i=!1,a=0;case 3:if(!(a<e.listaPeticion.length)){t.next=15;break}if(r=void 0,n=void 0,r=e.listaPeticion[a].nombre_item,n=e.solicitud.nombre_item,r!==n){t.next=12;break}return i=!0,e.alert("warning","Ya ingreso este item"),t.abrupt("break",15);case 12:a++,t.next=3;break;case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)})))()},agregarItem:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a,r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerItems();case 2:return t.next=4,e.verificarSiEstaEnLista();case 4:if(i=t.sent,"Seleccione una opcion"==e.solicitud.nombre_item||"Servicios"!==e.solicitud.categoria_general||e.$v.descripcionItem.$invalid){t.next=16;break}if(i){t.next=14;break}return a={nombre_item:e.solicitud.nombre_item,cantidad:"-",categoria:e.solicitud.categoria,categoria_general:e.solicitud.categoria_general,unidad_solicitud:"-",detalle_solicitud:e.descripcionItem,nombre_itemgasto:e.solicitud.nombre_item},e.listaPeticion.push(a),e.solicitud.nombre_item="Seleccione una opcion",t.next=12,e.forceRerender4();case 12:e.elemento.cantidad=null,e.elemento.unidad=null;case 14:t.next=28;break;case 16:if("Seleccione una opcion"==e.solicitud.nombre_item||e.$v.elemento.cantidad.$invalid||e.$v.elemento.unidad.$invalid||e.$v.descripcionItem.$invalid){t.next=27;break}if(i){t.next=25;break}return r={nombre_item:e.solicitud.nombre_item,cantidad:e.elemento.cantidad,categoria:e.solicitud.categoria,categoria_general:e.solicitud.categoria_general,unidad_solicitud:e.elemento.unidad,detalle_solicitud:e.descripcionItem,nombre_itemgasto:e.solicitud.nombre_item},e.listaPeticion.push(r),e.solicitud.nombre_item="Seleccione una opcion",t.next=23,e.forceRerender4();case 23:e.elemento.cantidad=null,e.elemento.unidad=null;case 25:t.next=28;break;case 27:e.desabilitar||e.alert("warning","Rellene correctamente la seccion de items");case 28:if(e.listaPeticion.length>1&&(n=e.listaPeticion[e.listaPeticion.length-2].categoria_general,o=e.listaPeticion[e.listaPeticion.length-1].categoria_general,n!=o))for(s=0;s<e.listaPeticion.length;s++)e.listaPeticion[s].categoria_general===o&&e.listaPeticion.splice(s,1);case 29:case"end":return t.stop()}}),t)})))()},alert:function(e,t){this.$refs.alert.showAlert(e,t)},alert2:function(e,t){this.$refs.alert2.showAlert(e,t)},getDepartamento:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("spendingUnit?type=name&departamento=".concat(localStorage.getItem("depto")),{headers:{authorization:e.token}});case 2:for(i=t.sent.data,a=0;a<i.datos.length;a++)e.listaUnidadesDeGasto.push(i.datos[a].nombre_unidadgasto);case 4:case"end":return t.stop()}}),t)})))()},obtenerDescripcion:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("expenseItem?type=item&nombre=".concat(e.solicitud.nombre_item),{headers:{authorization:e.token}});case 2:i=t.sent.data,e.descripcionItem=i.datos[0].descripcion_item;case 4:case"end":return t.stop()}}),t)})))()}}},y=w,k=(i("8d71"),i("2877")),$=Object(k["a"])(y,s,c,!1,null,"ae9cb9a4",null),S=$.exports,j={components:{SolicitudDatos:S},name:"SolicitudPage",computed:Object(n["a"])({},Object(o["c"])(["permisoSolicitud"]))},I=j,R=(i("7c33"),Object(k["a"])(I,a,r,!1,null,"63b6ac77",null));t["default"]=R.exports},"8d71":function(e,t,i){"use strict";i("5c0b")},"9bdd":function(e,t,i){var a=i("825a"),r=i("2a62");e.exports=function(e,t,i,n){try{return n?t(a(i)[0],i[1]):t(i)}catch(o){throw r(e),o}}},a630:function(e,t,i){var a=i("23e7"),r=i("4df4"),n=i("1c7e"),o=!n((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:o},{from:r})},b0c0:function(e,t,i){var a=i("83ab"),r=i("9bf2").f,n=Function.prototype,o=n.toString,s=/^\s*function ([^ (]*)/,c="name";a&&!(c in n)&&r(n,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b85c:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("fb6a"),i("b0c0"),i("a630");function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function r(e,t){if(e){if("string"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function n(e,t){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=r(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(c)throw o}}}}},bfb0:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-lista"},[i("div",{staticClass:"container__label"},[e._v(e._s(e.nombreLista))]),i("select",{staticClass:"container__list",attrs:{required:""},on:{change:function(t){return e.$emit("change",t.target.value)},input:function(t){return e.$emit("input",t.target.value)}}},[i("option",{attrs:{selected:"true",disabled:"disabled"}},[e._v(e._s(e.value))]),e._l(e.lista,(function(t,a){return i("option",{key:a,staticClass:"container__list__option",domProps:{value:t}},[e._v(" "+e._s(t))])}))],2),e.$v.value.required?e._e():i("div",{staticClass:"form_check-error"},[e._v(" "+e._s(e.Mensaje)+" ")])])},r=[],n=i("b5ae"),o={name:"ListaDesplegableChange",data:function(){return{inicial:"Seleccione"}},props:{value:String,nombreLista:String,lista:Array,Mensaje:String},validations:{value:{required:n["required"]}}},s=o,c=(i("7624"),i("2877")),l=Object(c["a"])(s,a,r,!1,null,"c2f9db70",null);t["a"]=l.exports},c27c:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"alert",class:e.type},[e._v(" "+e._s(e.message)+" "),i("div",{staticClass:"botones"},[i("p",{staticClass:"advertencia"},[e._v(e._s(e.mensajeSub))]),i("button",{staticClass:"btn btn-primary botonBorrar",on:{click:function(t){return e.EnviarPadre()}}},[e._v(" "+e._s(e.aceptar)+" ")]),i("button",{staticClass:"btn btn-light",on:{click:function(t){e.hideAlert(),e.EnviarPadre1()}}},[e._v(" Cancelar ")])])]):e._e()},r=[],n=i("4360"),o={name:"Alert2",store:n["store"],data:function(){return{show:!1,type:"",message:""}},props:{aceptar:String,mensajeSub:String},methods:{showAlert:function(e,t){this.type=e,this.message=t,this.show=!0},hideAlert:function(){this.show=!1},EnviarPadre:function(){this.$emit("escucharHijo",!0),this.show=!1},EnviarPadre1:function(){this.$emit("escucharHijo1",!0)}}},s=o,c=(i("7acf"),i("2877")),l=Object(c["a"])(s,a,r,!1,null,"3a7b2654",null);t["a"]=l.exports},d28b:function(e,t,i){var a=i("746f");a("iterator")},decb:function(e,t,i){},e01a:function(e,t,i){"use strict";var a=i("23e7"),r=i("83ab"),n=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,l=i("e893"),u=n.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(m,u);var v=m.prototype=u.prototype;v.constructor=m;var _=v.toString,g="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=_.call(e);if(o(d,e))return"";var i=g?t.slice(7,-1):t.replace(p,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:m})}},fb6a:function(e,t,i){"use strict";var a=i("23e7"),r=i("861d"),n=i("e8b5"),o=i("23cb"),s=i("50c4"),c=i("fc6a"),l=i("8418"),u=i("b622"),d=i("1dde"),m=d("slice"),v=u("species"),_=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var i,a,u,d=c(this),m=s(d.length),p=o(e,m),f=o(void 0===t?m:t,m);if(n(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?r(i)&&(i=i[v],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return _.call(d,p,f);for(a=new(void 0===i?Array:i)(g(f-p,0)),u=0;p<f;p++,u++)p in d&&l(a,u,d[p]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-2dd070b4.2463a1f7.js.map