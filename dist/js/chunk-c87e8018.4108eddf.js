(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c87e8018"],{"0f22":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"review"},[n("div",{staticClass:"review-container"},[n("Inbox",{staticClass:"review-inbox"})],1)])},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inbox"},[n("div",{staticClass:"inbox-container"},[n("div",{staticClass:"inbox-cards",class:""===t.selectedRequest.name?"full-screen":"side-view"},[n("div",{staticClass:"card-side"},[n("div",{staticClass:"desc"},[t._v("Solicitudes entrantes:")]),t._l(t.inboxData,(function(e,r){return n("div",{key:r,staticClass:"card-index"},[n("div",{staticClass:"single-card-container ",class:t.selectedRequest.name==e.nombre_solicitud?"selected-card":"",on:{click:function(e){return t.showRequest(r)}}},[n("Card",{attrs:{name:e.nombre_solicitud,date:e.fecha_solicitud,author:e.usuario_solicitante_name,description:e.detalle_solicitud}})],1)])}))],2)]),n("div",{staticClass:"inbox-details",class:""===t.selectedRequest.name?"no-selected":""},[n("transition",{attrs:{name:"slide-fade"}},[""!=t.selectedRequest.name?n("div",[n("Details",{attrs:{request:t.selectedRequest}})],1):t._e()])],1)])])},s=[],o=n("b85c"),c=n("1da1"),u=n("5530"),l=(n("96cf"),n("99af"),n("b0c0"),n("a4d3"),n("e01a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-container"},[n("div",{staticClass:"card-head"},[n("h3",[t._v(t._s(t.name))]),n("div",{staticClass:"card-date"},[t._v(t._s(t.date))])]),n("div",{staticClass:"card-author"},[t._v(t._s(t.author))]),n("div",{staticClass:"card-description"},[t._v(t._s(t.description))])])}),d=[],f={name:"Card",data:function(){return{}},props:{name:String,date:String,author:String,description:String}},p=f,v=(n("edc2"),n("2877")),h=Object(v["a"])(p,l,d,!1,null,"657a4a38",null),b=h.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"single-request-details"},[n("div",{staticClass:"head-part"},[n("div",{staticClass:"head-top"},[n("h2",[t._v(t._s(t.request.name))]),n("div",{staticClass:"time"},[t._v(t._s(t.request.date))])]),n("div",{staticClass:"head-info"},[n("div",{staticClass:"head-subject"},[n("h3",[t._v("Solicitante:")]),t._v(t._s(t.request.author))]),n("div",{staticClass:"head-subject"},[n("h3",[t._v("Unidad:")]),t._v(t._s(t.request.unit))])])]),n("div",{staticClass:"body-part"},[n("h5",[t._v("Justificación:")]),n("p",[t._v(t._s(t.request.description))]),n("div",{staticClass:"money"},[n("h5",[t._v("Presupuesto:")]),t._v(" Bs. "+t._s(t.request.budget)+" ")])]),n("h5",[t._v("Items:")]),n("div",{staticClass:"items"},[n("table",{staticClass:"items-list"},[t._m(0),n("tbody",t._l(t.request.itemList,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.cantidad_solicitud))]),n("td",[t._v(t._s(e.unidad_solicitud))]),n("td",[t._v(t._s(e.detalle_solicitud))])])})),0)])]),n("div",{staticClass:"response"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"accept-button",on:{click:function(e){return t.assert()}}},[t._v("Aceptar")]),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"reject-button",on:{click:function(e){return t.deny()}}},[t._v("Rechazar")]),n("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Justificación","ok-title":"Enviar","ok-only":""},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-group",{attrs:{"invalid-feedback":"Justifique su respuesta",state:t.resState}},[n("b-form-textarea",{staticClass:"report-just",attrs:{id:"response-textarea",placeholder:"Ingrese su justificación",cols:"50",rows:"10",maxlength:"1000",state:t.resState,required:""},model:{value:t.response,callback:function(e){t.response=e},expression:"response"}})],1)],1),n("Alert",{ref:"alert"})],1)],1)])},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Cantidad")]),n("th",[t._v("Item")]),n("th",[t._v("Detalle")])])])}],_=(n("a9e3"),n("498a"),n("98ab")),y=n("2f62"),x=n("1947"),w=n("6aac"),C=n("8226"),S=n("9c7d"),A={name:"Details",computed:Object(u["a"])({},Object(y["c"])(["token"])),components:{Alert:_["a"],BButton:x["a"],BModal:w["a"],BFormGroup:C["a"],BFormTextarea:S["a"]},data:function(){return{valid:null,response:"",resState:null,status:""}},props:{request:{cod:Number,name:String,date:String,author:String,unit:String,description:String,budget:Number,itemList:Array}},watch:{response:function(){""!=this.response&&(this.resState=null)}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.resState=t,t},resetModal:function(){this.response="",this.resState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.checkFormValidity()){e.next=3;break}return e.abrupt("return");case 3:if(!(t.response.trim().length<1)){e.next=7;break}return t.response=t.response.trim(),t.resState=!1,e.abrupt("return");case 7:return e.next=9,t.sendData();case 9:t.alert("success","Informe enviado"),e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),t.alert("warning",e.t0),e.abrupt("return");case 16:t.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")}));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))()},sendData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.post("report?type=codigo",{cod_solicitud:t.request.cod,titulo_informe:"Informe "+t.request.name,justificacion_informe:t.response,aceptacion:t.valid},{headers:{authorization:t.token}});case 3:return e.next=5,t.$http.put("request/".concat(t.request.cod,"?type=State"),{estado_solicitud:t.status},{headers:{authorization:t.token}});case 5:window.setInterval(window.location.reload(),1e4),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),new Error("Esta solicitud ya fue revisada");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},assert:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.valid=!0,t.status="EN_COTIZACION";case 2:case"end":return e.stop()}}),e)})))()},deny:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.valid=!1,t.status="RECHAZADA";case 2:case"end":return e.stop()}}),e)})))()},alert:function(t,e){this.$refs.alert.showAlert(t,e)}}},k=A,R=(n("eb6f"),Object(v["a"])(k,m,g,!1,null,"f1edb732",null)),I=R.exports,q={name:"Inbox",computed:Object(u["a"])({},Object(y["c"])(["token"])),components:{Details:I,Card:b},data:function(){return{inboxData:[],items:[],selectedRequest:{cod:null,name:"",date:"",author:"",unit:"",description:"",budget:null,itemList:[]}}},methods:{getData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,a,i,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("request?type=criteria&status=ABIERTA&from=depto&nombre=".concat(localStorage.getItem("depto")),{headers:{authorization:t.token}});case 2:n=e.sent.data,r=0;case 4:if(!(r<n.length)){e.next=21;break}return t.inboxData.push(n[r]),a=t.inboxData[r].fecha_solicitud,console.log("%c".concat(a.substr(0,4)),"font-size: 20px; color:red;"),console.log("%c".concat(a.substr(5,2)),"font-size: 17px; color:green;"),console.log("%c".concat(a.substr(8,2)),"font-size: 12px; color:blue;"),t.inboxData[r].fecha_solicitud="".concat(a.substr(8,2),"/").concat(a.substr(5,2),"/").concat(a.substr(0,4)),e.next=13,t.$http.get("itemsPerRequest?searchby=solicitud&typeinput=nombre&inputdata=".concat(t.inboxData[r].nombre_solicitud),{headers:{authorization:t.token}});case 13:i=e.sent.data.datos,s=[],c=Object(o["a"])(i);try{for(c.s();!(u=c.n()).done;)l=u.value,s.push(l)}catch(d){c.e(d)}finally{c.f()}t.items.push(s);case 18:r++,e.next=4;break;case 21:case"end":return e.stop()}}),e)})))()},showRequest:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.selectedRequest.cod=e.inboxData[t].cod_solicitud,e.selectedRequest.name=e.inboxData[t].nombre_solicitud,e.selectedRequest.date=e.inboxData[t].fecha_solicitud,e.selectedRequest.author=e.inboxData[t].usuario_solicitante_name,e.selectedRequest.unit=e.inboxData[t].unidadgasto_solicitud,e.selectedRequest.description=e.inboxData[t].detalle_solicitud,e.selectedRequest.budget=e.inboxData[t].estimado_solicitud,e.selectedRequest.itemList=e.items[t];case 8:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getData()}},E=q,O=(n("70b9"),Object(v["a"])(E,i,s,!1,null,"e23ddc54",null)),j=O.exports,N={components:{Inbox:j},data:function(){return{}}},D=N,$=(n("16e4"),Object(v["a"])(D,r,a,!1,null,"e1a60a28",null));e["default"]=$.exports},"16e4":function(t,e,n){"use strict";n("40b0")},"40b0":function(t,e,n){},4272:function(t,e,n){},4571:function(t,e,n){},"498a":function(t,e,n){"use strict";var r=n("23e7"),a=n("58a8").trim,i=n("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),s=n("e95a"),o=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,f,p,v=a(t),h="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,g=void 0!==m,_=u(v),y=0;if(g&&(m=r(m,b>2?arguments[2]:void 0,2)),void 0==_||h==Array&&s(_))for(e=o(v.length),n=new h(e);e>y;y++)p=g?m(v[y],y):v[y],c(n,y,p);else for(d=_.call(v),f=d.next,n=new h;!(l=f.call(d)).done;y++)p=g?i(d,m,[l.value,y],!0):l.value,c(n,y,p);return n.length=y,n}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"70b9":function(t,e,n){"use strict";n("b64be")},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var i,s;return a&&"function"==typeof(i=e.constructor)&&i!==n&&r(s=i.prototype)&&s!==n.prototype&&a(t,s),t}},"98ab":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"alert",class:t.type},[n("span",{staticClass:"closebtn",on:{click:function(e){return t.hideAlert()}}},[t._v("×")]),t._v(" "+t._s(t.message)+" ")]):t._e()},a=[],i={name:"Alert",data:function(){return{show:!1,type:"",message:""}},methods:{showAlert:function(t,e){this.type=t,this.message=e,this.show=!0},hideAlert:function(){this.show=!1}}},s=i,o=(n("c9c4"),n("2877")),c=Object(o["a"])(s,r,a,!1,null,"76d0477a",null);e["a"]=c.exports},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),s=n("861d"),o=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),v=f("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=p>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=d("concat"),_=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},y=!m||!g;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,r,a,i,s=o(this),d=l(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?s:arguments[e],_(i)){if(a=c(i.length),f+a>h)throw TypeError(b);for(n=0;n<a;n++,f++)n in i&&u(d,f,i[n])}else{if(f>=h)throw TypeError(b);u(d,f++,i)}return d.length=f,d}})},"9bdd":function(t,e,n){var r=n("825a"),a=n("2a62");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){throw a(t),s}}},"9d45":function(t,e,n){},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),i=n("1c7e"),s=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:a})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),i=n("94ca"),s=n("6eeb"),o=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,v=n("06cf").f,h=n("9bf2").f,b=n("58a8").trim,m="Number",g=a[m],_=g.prototype,y=c(f(_))==m,x=function(t){var e,n,r,a,i,s,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(i=u.slice(2),s=i.length,o=0;o<s;o++)if(c=i.charCodeAt(o),c<48||c>a)return NaN;return parseInt(i,r)}return+u};if(i(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(y?d((function(){_.valueOf.call(n)})):c(n)!=m)?u(new g(x(e)),n,C):x(e)},S=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;S.length>A;A++)o(g,w=S[A])&&!o(C,w)&&h(C,w,v(g,w));C.prototype=_,_.constructor=C,s(a,m,C)}},b0c0:function(t,e,n){var r=n("83ab"),a=n("9bf2").f,i=Function.prototype,s=i.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in i)&&a(i,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},b64be:function(t,e,n){},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("fb6a"),n("b0c0"),n("a630");function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,s=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(c)throw s}}}}},c8d2:function(t,e,n){var r=n("d039"),a=n("5899"),i="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||i[t]()!=i||a[t].name!==t}))}},c9c4:function(t,e,n){"use strict";n("9d45")},d28b:function(t,e,n){var r=n("746f");r("iterator")},e01a:function(t,e,n){"use strict";var r=n("23e7"),a=n("83ab"),i=n("da84"),s=n("5135"),o=n("861d"),c=n("9bf2").f,u=n("e893"),l=i.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(f,l);var p=f.prototype=l.prototype;p.constructor=f;var v=p.toString,h="Symbol(test)"==String(l("test")),b=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=v.call(t);if(s(d,t))return"";var n=h?e.slice(7,-1):e.replace(b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},eb6f:function(t,e,n){"use strict";n("4571")},edc2:function(t,e,n){"use strict";n("4272")},fb6a:function(t,e,n){"use strict";var r=n("23e7"),a=n("861d"),i=n("e8b5"),s=n("23cb"),o=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),d=n("1dde"),f=d("slice"),p=l("species"),v=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,r,l,d=c(this),f=o(d.length),b=s(t,f),m=s(void 0===e?f:e,f);if(i(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?a(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(d,b,m);for(r=new(void 0===n?Array:n)(h(m-b,0)),l=0;b<m;b++,l++)b in d&&u(r,l,d[b]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-c87e8018.4108eddf.js.map