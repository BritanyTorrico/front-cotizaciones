(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bce8282"],{"438c":function(e,r,a){},"459f":function(e,r,a){"use strict";a.r(r);var s=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",[this.permisoCrearUsuario?a("div",{staticClass:"contenedor"},[a("register-user")],1):e._e()])},t=[],n=a("5530"),o=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"container-user"},[a("link",{attrs:{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.15.3/css/all.css",integrity:"sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk",crossorigin:"anonymous"}}),a("form",{on:{submit:function(r){return r.preventDefault(),e.submitForm(r)}}},[a("div",{staticClass:"flex-container"},[e._m(0),a("div",{staticClass:"form__datos"},[e._m(1),a("div",{staticClass:"form__section"},[a("div",{staticClass:"form__name"},[a("div",{staticClass:"formulario_label"},[e._v("Nombre:")]),a("div",{staticClass:"tam-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.users.nombres,expression:"users.nombres"}],class:e.$v.users.nombres.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",placeholder:"Ingrese su nombre"},domProps:{value:e.users.nombres},on:{input:function(r){r.target.composing||e.$set(e.users,"nombres",r.target.value)}}})]),e.$v.users.nombres.required?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.nombres.maxLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Máximo "+e._s(e.$v.users.nombres.$params.maxLength.max)+" caracteres. ")]),e.$v.users.nombres.minLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Mínimo 3 caracteres. ")]),e.$v.users.nombres.alpha1?e._e():a("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")])]),a("div",{staticClass:"form__name"},[a("div",{staticClass:"formulario_label"},[e._v("Apellidos:")]),a("div",{staticClass:"tam-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.users.apellidos,expression:"users.apellidos"}],class:e.$v.users.apellidos.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",placeholder:"Ingrese su apellido",required:""},domProps:{value:e.users.apellidos},on:{input:function(r){r.target.composing||e.$set(e.users,"apellidos",r.target.value)}}})]),e.$v.users.apellidos.required?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.apellidos.maxLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Máximo "+e._s(e.$v.users.apellidos.$params.maxLength.max)+" caracteres. ")]),e.$v.users.apellidos.minLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Mínimo 4 caracteres. ")]),e.$v.users.apellidos.alpha1?e._e():a("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")])])]),a("div",{staticClass:"form__section"},[a("div",{staticClass:"form__name"},[a("div",{staticClass:"formulario_label"},[e._v("Nombre de usuario:")]),a("div",{staticClass:"tam-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.users.nombre_usuario,expression:"users.nombre_usuario"}],class:e.$v.users.nombre_usuario.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",placeholder:"Ingrese nombre de usuario",required:""},domProps:{value:e.users.nombre_usuario},on:{input:function(r){r.target.composing||e.$set(e.users,"nombre_usuario",r.target.value)}}})]),e.$v.users.nombre_usuario.required?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.nombre_usuario.maxLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Máximo "+e._s(e.$v.users.nombre_usuario.$params.maxLength.max)+" caracteres. ")]),e.$v.users.nombre_usuario.alpha1?e._e():a("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")]),e.$v.users.nombre_usuario.minLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Mínimo 3 caracteres. ")])]),a("div",{staticClass:"form__name"},[a("div",{staticClass:"formulario_label"},[e._v("Celular:")]),a("div",{staticClass:"tam-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.users.celular,expression:"users.celular"}],class:e.$v.users.celular.$invalid?"form_check-input-error":"form__input",attrs:{type:"",placeholder:"Ingrese su celular"},domProps:{value:e.users.celular},on:{input:function(r){r.target.composing||e.$set(e.users,"celular",r.target.value)}}})]),e.$v.users.celular.integer?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Solo se aceptan valores numericos. ")]),e.$v.users.celular.required?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.celular.maxLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Máximo 8 caracteres. ")])])]),a("div",{staticClass:"form__section2"},[a("div",{staticClass:"formulario_label"},[e._v(" Contraseña: ")]),a("div",{staticClass:"flex__contraseña"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.users.contrasena,expression:"users.contrasena"}],class:e.$v.users.contrasena.$invalid?"form_check-input-error":"form__input",attrs:{type:"password",id:"password",placeholder:"Ingrese su contraseña"},domProps:{value:e.users.contrasena},on:{input:function(r){r.target.composing||e.$set(e.users,"contrasena",r.target.value)}}}),a("div",{staticClass:"flex__contraseña__icon"},[a("i",{staticClass:"fas fa-eye",on:{click:function(r){return e.mostrarContrasena()}}})])]),e.$v.users.contrasena.valid?e._e():a("div",{staticClass:"form_check-error"},[e._v(" La contraseña debe contener al menos una mayuscula, minuscula un número y un caracter especial de las siguientes opciones: ?!@$%^&*- ")]),e.$v.users.contrasena.minLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Minimo 8 caracteres ")]),e.$v.users.contrasena.maxLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Contraseña muy larga máximo "+e._s(e.$v.users.contrasena.$params.maxLength.max)+" caracteres. ")])]),a("div",{staticClass:"form__section2"},[a("div",{staticClass:"formulario_label"},[e._v("Confirmar Contraseña:")]),a("div",{staticClass:"flex__contraseña"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.users.confirmarContraseña,expression:"users.confirmarContraseña"}],class:e.$v.users.confirmarContraseña.$invalid?"form_check-input-error":"form__input",attrs:{type:"password",id:"password2",placeholder:"Ingrese su contraseña"},domProps:{value:e.users.confirmarContraseña},on:{input:function(r){r.target.composing||e.$set(e.users,"confirmarContraseña",r.target.value)}}}),a("div",{staticClass:"flex__contraseña__icon"},[a("i",{staticClass:"fas fa-eye",on:{click:function(r){return e.mostrarContrasena2()}}})])]),e.$v.users.confirmarContraseña.required?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.confirmarContraseña.sameAsPassword?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Las contraseñas debe coincidir. ")]),e.$v.users.confirmarContraseña.maxLength?e._e():a("div",{staticClass:"form_check-error"},[e._v(" Contraseña muy larga maximo "+e._s(e.$v.users.confirmarContraseña.$params.maxLength.max)+" caracteres. ")])]),a("div",{staticClass:"form__section3"},[a("div",{staticClass:"fomrm__section__item"},[a("div",{staticClass:"container-facu"},[a("div",{staticClass:"container__label"},[e._v("Facultad:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.users.facultad,expression:"users.facultad"}],staticClass:"container__list",on:{change:[function(r){var a=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var r="_value"in e?e._value:e.value;return r}));e.$set(e.users,"facultad",r.target.multiple?a:a[0])},function(r){return e.obtenerDepartamentos()}]}},[a("option",{attrs:{disabled:"true"}},[e._v(e._s(e.users.facultad))]),e._l(e.listfacultad,(function(r,s){return a("option",{key:s,staticClass:"container__list__option",domProps:{value:r}},[e._v(" "+e._s(r))])}))],2),e.$v.users.facultad.validate_requerido_listas?e._e():a("div",{staticClass:"form_check-error"},[e._v(" 1. Campo Obligatorio. ")])])]),a("div",{staticClass:"fomrm__section__item"},[a("lista-desplegable",{key:e.componentKey,attrs:{required:"",nombreLista:"Departamento:",lista:e.listDepartament,value:e.users.departamento},model:{value:e.users.departamento,callback:function(r){e.$set(e.users,"departamento",r)},expression:"users.departamento"}}),e.$v.users.departamento.validate_requerido_listas?e._e():a("div",{staticClass:"form_check-error"},[e._v(" 2. Campo Obligatorio. ")])],1),a("div",{staticClass:"fomrm__section__item"},[a("lista-desplegable",{key:e.componentKey1,attrs:{nombreLista:"Rol:",lista:e.listRoles,value:e.users.nombre_rol},model:{value:e.users.nombre_rol,callback:function(r){e.$set(e.users,"nombre_rol",r)},expression:"users.nombre_rol"}}),e.$v.users.nombre_rol.validate_requerido_listas?e._e():a("div",{staticClass:"form_check-error"},[e._v(" 3.Campo Obligatorio. ")])],1)]),e._m(2),a("Alert",{ref:"alert"})],1)])])])},i=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"form__image"},[s("img",{attrs:{src:a("7781"),alt:""}})])},function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"titulo"},[a("div",{staticClass:"tii"},[a("h2",{staticClass:"item_title"},[e._v("Registrar Usuario")])]),a("div",{staticClass:"form_desc"},[e._v(" Ingrese los datos del usuario. ")])])},function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"boton"},[a("input",{staticClass:"boton__input",attrs:{type:"submit",value:"Confirmar"}})])}],c=a("1da1"),u=(a("a434"),a("ac1f"),a("466d"),a("96cf"),a("b5ae")),l=a("f3c4"),m=a("2f62"),d=a("c906"),p=u["helpers"].regex("alpha1",/^[a-zA-Z0-9ñ+áéíóúÁÉÍÓÚ.\s]*$/),v=function(e){var r=String(e);return"Seleccione una opcion"!==r||(!u["helpers"].req(e)||"Seleccione una opcion"!=r)},_={components:{ListaDesplegable:l["a"],Alert:d["a"]},name:"RegisterUser",computed:Object(n["a"])({},Object(m["c"])(["token"])),data:function(){return{requerido:!0,users:{nombre_usuario:null,contrasena:null,"confirmarContraseña":null,nombres:null,apellidos:null,celular:null,facultad:"Seleccione una opcion",departamento:"Seleccione una opcion",nombre_rol:"Seleccione una opcion"},listDepartament:[],listfacultad:[],listRoles:[],componentKey:0,componentKey1:0}},validations:{users:{nombres:{required:u["required"],minLength:Object(u["minLength"])(3),maxLength:Object(u["maxLength"])(20),alpha1:p},apellidos:{required:u["required"],minLength:Object(u["minLength"])(4),maxLength:Object(u["maxLength"])(30),alpha1:p},nombre_usuario:{required:u["required"],minLength:Object(u["minLength"])(3),maxLength:Object(u["maxLength"])(20),alpha1:p},contrasena:{required:u["required"],minLength:Object(u["minLength"])(8),maxLength:Object(u["maxLength"])(20),valid:function(e){var r=/[A-Z]/.test(e),a=/[0-9]/.test(e),s=/[a-z]/.test(e),t=/[?!@$%^&*-]/.test(e);return r&&s&&a&&t}},"confirmarContraseña":{required:u["required"],minLength:Object(u["minLength"])(8),maxLength:Object(u["maxLength"])(20),sameAsPassword:Object(u["sameAs"])("contrasena")},celular:{required:u["required"],maxLength:Object(u["maxLength"])(8),integer:u["integer"]},facultad:{required:u["required"],validate_requerido_listas:v},departamento:{required:u["required"],validate_requerido_listas:v},nombre_rol:{required:u["required"],validate_requerido_listas:v}}},mounted:function(){this.obtenerFacultades(),this.obtenerRoles()},methods:Object(n["a"])(Object(n["a"])({},Object(m["b"])(["datosProtegidos"])),{},{forceRerender:function(){this.componentKey+=1},forceRerender1:function(){this.componentKey1+=1},obtenerFacultades:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("faculty",{headers:{authorization:e.token}});case 2:for(a=r.sent.data,s=0;s<a.length;s++)e.listfacultad.push(a[s].nombre_facultad);case 4:case"end":return r.stop()}}),r)})))()},obtenerDepartamentos:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.listDepartament=[],r.next=3,e.$http.get("department?facu=".concat(e.users.facultad),{headers:{authorization:e.token}});case 3:for(a=r.sent.data,s=0;s<a.length;s++)e.listDepartament.push(a[s].nombre_departamento);a.splice(1,5);case 6:case"end":return r.stop()}}),r)})))()},obtenerRoles:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("roles",{headers:{authorization:e.token}});case 2:for(a=r.sent.data.datos,s=0;s<a.length;s++)e.listRoles.push(a[s].nombre_rol);case 4:case"end":return r.stop()}}),r)})))()},keyhandler:function(e){e.key.match(/^[a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ.\s]*$/)||e.preventDefault()},submitForm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,e.$v.users.$invalid){r.next=22;break}return r.next=4,e.sendDataUsers();case 4:return r.next=6,e.sendUserDepartment();case 6:return r.next=8,e.sendUsernameRol();case 8:e.alert("success","Usuario creado exitosamente"),e.users.nombre_usuario=null,e.users.contrasena=null,e.users.confirmarContraseña=null,e.users.nombres=null,e.users.apellidos=null,e.users.celular=null,e.users.facultad="Seleccione una opcion",e.users.departamento="Seleccione una opcion",e.users.nombre_rol="Seleccione una opcion",e.forceRerender(),e.forceRerender1(),r.next=23;break;case 22:e.alert("warning","Rellene todos los datos correctamente");case 23:r.next=28;break;case 25:r.prev=25,r.t0=r["catch"](0),e.alert("warning",r.t0);case 28:case"end":return r.stop()}}),r,null,[[0,25]])})))()},sendUserDepartment:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$http.post("usersPerDeparment",{nombre_departamento:e.users.departamento,nombre_usuario:e.users.nombre_usuario},{headers:{authorization:e.token}});case 3:r.next=8;break;case 5:throw r.prev=5,r.t0=r["catch"](0),new Error("Error departamento");case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},sendUsernameRol:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$http.post("usersPerRole",{nombre_rol:e.users.nombre_rol,nombre_usuario:e.users.nombre_usuario},{headers:{authorization:e.token}});case 3:r.next=8;break;case 5:throw r.prev=5,r.t0=r["catch"](0),new Error("Error Roles");case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},sendDataUsers:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$http.post("users",{nombre_usuario:e.users.nombre_usuario,contrasena:e.users.contrasena,nombres:e.users.nombres,apellidos:e.users.apellidos,celular:e.users.celular,facultad:e.users.facultad,departamento:e.users.departamento},{headers:{authorization:e.token}});case 3:r.next=8;break;case 5:throw r.prev=5,r.t0=r["catch"](0),new Error("El nombre de usuario ya fue registrado");case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},alert:function(e,r){this.$refs.alert.showAlert(e,r)},mostrarContrasena:function(){var e=document.getElementById("password");"password"==e.type?e.type="text":e.type="password"},mostrarContrasena2:function(){var e=document.getElementById("password2");"password"==e.type?e.type="text":e.type="password"}})},f=_,h=(a("509a"),a("2877")),b=Object(h["a"])(f,o,i,!1,null,"25b2ad9a",null),g=b.exports,C={components:{RegisterUser:g},computed:Object(n["a"])({},Object(m["c"])(["permisoCrearUsuario"])),mounted:function(){this.permisoCrearUsuario||this.$router.push("/")},name:"RegisterUserPage"},x=C,$=(a("d705"),Object(h["a"])(x,s,t,!1,null,"e217faf0",null));r["default"]=$.exports},"466d":function(e,r,a){"use strict";var s=a("d784"),t=a("825a"),n=a("50c4"),o=a("1d80"),i=a("8aa5"),c=a("14c3");s("match",1,(function(e,r,a){return[function(r){var a=o(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,a):new RegExp(r)[e](String(a))},function(e){var s=a(r,e,this);if(s.done)return s.value;var o=t(e),u=String(this);if(!o.global)return c(o,u);var l=o.unicode;o.lastIndex=0;var m,d=[],p=0;while(null!==(m=c(o,u))){var v=String(m[0]);d[p]=v,""===v&&(o.lastIndex=i(u,n(o.lastIndex),l)),p++}return 0===p?null:d}]}))},"509a":function(e,r,a){"use strict";a("438c")},"65af":function(e,r,a){},7781:function(e,r,a){e.exports=a.p+"img/edificioUMSS.b7849db4.jpg"},d705:function(e,r,a){"use strict";a("65af")}}]);
//# sourceMappingURL=chunk-6bce8282.2644a992.js.map