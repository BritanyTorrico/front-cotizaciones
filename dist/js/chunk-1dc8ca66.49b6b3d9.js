(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dc8ca66"],{"14c3":function(e,t,r){var n=r("c6b6"),a=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"2d77":function(e,t,r){},4352:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return this.permisoCrearRol?r("div",{staticClass:"register"},[r("div",{staticClass:"register_container"},[r("CrearRol",{staticClass:"register_item"})],1)]):e._e()},a=[],i=r("5530"),o=r("2f62"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"crear_rol"},[e._m(0),r("form",{key:e.componentKey,staticClass:"form_crear",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[r("div",{staticClass:"form_section"},[r("div",{staticClass:"form_name"},[e._v("Nombre de rol:")]),r("div",{staticClass:"form__nombre"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.dato.nombre_rol,expression:"dato.nombre_rol"}],class:e.$v.dato.nombre_rol.$invalid?"form_check-input-error":"form__input",attrs:{name:"nombreRol",id:"nombreRol",type:"text",minlength:"5",maxlength:"25",required:"",placeholder:"Ingrese nombre aquí"},domProps:{value:e.dato.nombre_rol},on:{input:function(t){t.target.composing||e.$set(e.dato,"nombre_rol",t.target.value)}}})]),e.$v.dato.nombre_rol.required?e._e():r("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.dato.nombre_rol.alpha1?e._e():r("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")]),e.$v.dato.nombre_rol.minLength?e._e():r("div",{staticClass:"form_check-error"},[e._v(" Minimo 5 caracteres. ")])]),e._m(1),e._m(2)]),r("Alert",{ref:"alert"})],1)},c=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"titulo"},[r("h2",{staticClass:"item_title"},[e._v("Crear Rol")]),r("div",{staticClass:"form_desc"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form_section"},[r("div",{staticClass:"form_name"},[e._v("Seleccione los Permisos:")]),r("div",{staticClass:"checkbox-style"},[r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"gestionUsuario",name:"funcion",value:"Registrar Usuarios"}})]),r("label",{attrs:{for:"gestionUsuario"}},[e._v("Registrar Usuarios")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"gestionRol",name:"funcion",value:"Crear Roles"}})]),r("label",{attrs:{for:"gestionRol"}},[e._v("Crear Roles")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"gestionUnidades",name:"funcion",value:"Añadir Unidades de Gasto"}})]),r("label",{attrs:{for:"gestionUnidades"}},[e._v("Añadir Unidades de Gasto")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"gestionItems",name:"funcion",value:"Añadir Items de Gasto"}})]),r("label",{attrs:{for:"gestionItems"}},[e._v("Añadir Items de Gasto")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"hacerSol",name:"funcion",value:"Hacer solicitud"}})]),r("label",{attrs:{for:"hacerSol"}},[e._v("Hacer solicitud")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"revSol",name:"funcion",value:"Revisar solicitud"}})]),r("label",{attrs:{for:"revSol"}},[e._v("Revisar solicitud")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"creaCot",name:"funcion",value:"Crear cotización"}})]),r("label",{attrs:{for:"creaCot"}},[e._v("Crear cotización")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"regEmp",name:"funcion",value:"Registro de empresas"}})]),r("label",{attrs:{for:"regEmp"}},[e._v("Registro de empresas")]),r("br")]),r("div",{staticClass:"form-function"},[r("div",{staticClass:"input-check"},[r("input",{attrs:{type:"checkbox",id:"filtrito",name:"funcion",value:"Filtro de cotizaciones"}})]),r("label",{attrs:{for:"filtrito"}},[e._v("Filtro de cotizaciones")]),r("br")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"botoncito"},[r("button",{staticClass:"form_button"},[e._v(" Crear ")])])}],l=r("b85c"),u=r("1da1"),d=(r("96cf"),r("ac1f"),r("466d"),r("159b"),r("caad"),r("b5ae")),p=r("98ab"),m=d["helpers"].regex("alpha1",/^[a-zA-Z0-9ñ+áéíóúÁÉÍÓÚ.\s]*$/),f={name:"CrearRol",computed:Object(i["a"])({},Object(o["c"])(["token"])),components:{Alert:p["a"]},data:function(){return{disabled:!1,dato:{nombre_rol:null},funciones:[],componentKey:0,permiso1:"",permiso2:"",permiso3:"",permiso4:"",permiso5:"",permiso6:"",permiso7:"",permiso8:"",permiso9:""}},validations:{dato:{nombre_rol:{required:d["required"],minLength:Object(d["minLength"])(5),maxLength:Object(d["maxLength"])(25),alpha1:m}}},methods:{forceRerender:function(){this.componentKey+=1},keyhandler:function(e){e.key.match(/^[a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ\s]*$/)||e.preventDefault()},getFunciones:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.funciones=[],r=document.querySelectorAll('input[name="funcion"]:checked'),r.forEach((function(t){e.funciones.push(t.value)})),n=Object(l["a"])(e.funciones);try{for(n.s();!(a=n.n()).done;)i=a.value,"Registrar Usuarios"==i&&(e.permiso1=i),"Crear Roles"==i&&(e.permiso2=i),"Añadir Unidades de Gasto"==i&&(e.permiso3=i),"Añadir Items de Gasto"==i&&(e.permiso4=i),"Hacer solicitud"==i&&(e.permiso5=i),"Revisar solicitud"==i&&(e.permiso6=i),"Crear cotización"==i&&(e.permiso7=i),"Registro de empresas"==i&&(e.permiso8=i),"Filtro de cotizaciones"==i&&(e.permiso9=i)}catch(o){n.e(o)}finally{n.f()}case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.getFunciones(),t.prev=1,e.$v.dato.$invalid||!(e.funciones.length>0)){t.next=12;break}return t.next=5,e.sendRolData();case 5:return t.next=7,e.sendFuncData();case 7:e.alert("success","Rol creado exitosamente"),e.dato.nombre_rol=null,e.forceRerender(),t.next=13;break;case 12:e.alert("warning","Seleccione minimamente un permiso.");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),e.alert("warning",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},sendRolData:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("roles",{nombre_rol:e.dato.nombre_rol},{headers:{authorization:e.token}});case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t["catch"](0),new Error("No existe dicha función");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},sendFuncData:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("rolePerFunctionsGroupSP2",{permiso1:e.permiso1,permiso2:e.permiso2,permiso3:e.permiso3,permiso4:e.permiso4,permiso5:e.permiso5,permiso6:e.permiso6,permiso7:e.permiso7,permiso8:e.permiso8,permiso9:e.permiso9,nombre_rol:e.dato.nombre_rol},{headers:{authorization:e.token}});case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t["catch"](0),new Error("Este rol ya esta registrado");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},alert:function(e,t){this.$refs.alert.showAlert(e,t)}},mounted:function(){var e=[32,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,193,201,205,209,211,218,225,233,237,241,243,250],t=document.getElementById("nombreRol");t.addEventListener("keypress",(function(t){var r=t.charCode;if(0!=r){var n=e.includes(r);n||t.preventDefault()}}),!1)}},v=f,h=(r("8b95"),r("2877")),b=Object(h["a"])(v,s,c,!1,null,"0244959c",null),g=b.exports,x={name:"CrearRoles",components:{CrearRol:g},computed:Object(i["a"])({},Object(o["c"])(["permisoCrearRol"])),mounted:function(){this.permisoCrearRol||this.$router.push("/")}},_=x,C=(r("9bd8"),Object(h["a"])(_,n,a,!1,null,"3ed7c718",null));t["default"]=C.exports},"466d":function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),i=r("50c4"),o=r("1d80"),s=r("8aa5"),c=r("14c3");n("match",1,(function(e,t,r){return[function(t){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=a(e),l=String(this);if(!o.global)return c(o,l);var u=o.unicode;o.lastIndex=0;var d,p=[],m=0;while(null!==(d=c(o,l))){var f=String(d[0]);p[m]=f,""===f&&(o.lastIndex=s(l,i(o.lastIndex),u)),m++}return 0===m?null:p}]}))},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"8b95":function(e,t,r){"use strict";r("ad04")},9263:function(e,t,r){"use strict";var n=r("ad6d"),a=r("9f7f"),i=r("5692"),o=RegExp.prototype.exec,s=i("native-string-replace",String.prototype.replace),c=o,l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(c=function(e){var t,r,a,i,c=this,p=u&&c.sticky,m=n.call(c),f=c.source,v=0,h=e;return p&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),h=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(f="(?: "+f+")",h=" "+h,v++),r=new RegExp("^(?:"+f+")",m)),d&&(r=new RegExp("^"+f+"$(?!\\s)",m)),l&&(t=c.lastIndex),a=o.call(p?r:c,h),p?a?(a.input=a.input.slice(v),a[0]=a[0].slice(v),a.index=c.lastIndex,c.lastIndex+=a[0].length):c.lastIndex=0:l&&a&&(c.lastIndex=c.global?a.index+a[0].length:t),d&&a&&a.length>1&&s.call(a[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),e.exports=c},"9bd8":function(e,t,r){"use strict";r("2d77")},"9f7f":function(e,t,r){"use strict";var n=r("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad04:function(e,t,r){},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),a=r("d039"),i=r("b622"),o=r("9112"),s=i("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,u){var m=i(e),f=!a((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),v=f&&!a((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[m]=/./[m]),r.exec=function(){return t=!0,null},r[m](""),!t}));if(!f||!v||"replace"===e&&(!c||!l||d)||"split"===e&&!p){var h=/./[m],b=r(m,""[e],(function(e,t,r,n,a){return t.exec===RegExp.prototype.exec?f&&!a?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),g=b[0],x=b[1];n(String.prototype,e,g),n(RegExp.prototype,m,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}u&&o(RegExp.prototype[m],"sham",!0)}}}]);
//# sourceMappingURL=chunk-1dc8ca66.49b6b3d9.js.map