(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02e1be21"],{1414:function(e,r,s){"use strict";s("5103")},"459f":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"contenedor"},[s("register-user")],1)},a=[],n=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"container-user"},[s("link",{attrs:{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.15.3/css/all.css",integrity:"sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk",crossorigin:"anonymous"}}),s("form",{on:{submit:function(r){return r.preventDefault(),e.submitForm(r)}}},[s("div",{staticClass:"flex-container"},[e._m(0),s("div",{staticClass:"form__datos"},[e._m(1),s("div",{staticClass:"form__section"},[s("div",{staticClass:"form__name"},[s("div",{staticClass:"formulario_label"},[e._v("Nombre:")]),s("div",{staticClass:"tam-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.users.nombres,expression:"users.nombres"}],class:e.$v.users.nombres.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",placeholder:"Ingrese su nombre"},domProps:{value:e.users.nombres},on:{input:function(r){r.target.composing||e.$set(e.users,"nombres",r.target.value)}}})]),e.$v.users.nombres.required?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.nombres.maxLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Máximo "+e._s(e.$v.users.nombres.$params.maxLength.max)+" caracteres. ")]),e.$v.users.nombres.minLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Mínimo 3 caracteres. ")]),e.$v.users.nombres.alpha1?e._e():s("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")])]),s("div",{staticClass:"form__name"},[s("div",{staticClass:"formulario_label"},[e._v("Apellidos:")]),s("div",{staticClass:"tam-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.users.apellidos,expression:"users.apellidos"}],class:e.$v.users.apellidos.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",placeholder:"Ingrese su apellido",required:""},domProps:{value:e.users.apellidos},on:{input:function(r){r.target.composing||e.$set(e.users,"apellidos",r.target.value)}}})]),e.$v.users.apellidos.required?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.apellidos.maxLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Máximo "+e._s(e.$v.users.apellidos.$params.maxLength.max)+" caracteres. ")]),e.$v.users.apellidos.minLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Mínimo 4 caracteres. ")]),e.$v.users.apellidos.alpha1?e._e():s("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")])])]),s("div",{staticClass:"form__section"},[s("div",{staticClass:"form__name"},[s("div",{staticClass:"formulario_label"},[e._v("Nombre de usuario:")]),s("div",{staticClass:"tam-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.users.nombre_usuario,expression:"users.nombre_usuario"}],class:e.$v.users.nombre_usuario.$invalid?"form_check-input-error":"form__input",attrs:{type:"text",placeholder:"Ingrese nombre de usuario",required:""},domProps:{value:e.users.nombre_usuario},on:{input:function(r){r.target.composing||e.$set(e.users,"nombre_usuario",r.target.value)}}})]),e.$v.users.nombre_usuario.required?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.nombre_usuario.maxLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Máximo "+e._s(e.$v.users.nombre_usuario.$params.maxLength.max)+" caracteres. ")]),e.$v.users.nombre_usuario.alpha1?e._e():s("div",{staticClass:"form_check-error"},[e._v(" No se aceptan caracteres especiales. ")]),e.$v.users.nombre_usuario.minLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Mínimo 3 caracteres. ")])]),s("div",{staticClass:"form__name"},[s("div",{staticClass:"formulario_label"},[e._v("Celular:")]),s("div",{staticClass:"tam-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.users.celular,expression:"users.celular"}],class:e.$v.users.celular.$invalid?"form_check-input-error":"form__input",attrs:{type:"",placeholder:"Ingrese su celular"},domProps:{value:e.users.celular},on:{input:function(r){r.target.composing||e.$set(e.users,"celular",r.target.value)}}})]),e.$v.users.celular.integer?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Solo se aceptan valores numericos. ")]),e.$v.users.celular.required?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.celular.maxLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Máximo 8 caracteres. ")])])]),s("div",{staticClass:"form__section2"},[s("div",{staticClass:"formulario_label"},[e._v(" Contraseña: ")]),s("div",{staticClass:"flex__contraseña"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.users.contrasena,expression:"users.contrasena"}],class:e.$v.users.contrasena.$invalid?"form_check-input-error":"form__input",attrs:{type:"password",id:"password",placeholder:"Ingrese su contraseña"},domProps:{value:e.users.contrasena},on:{input:function(r){r.target.composing||e.$set(e.users,"contrasena",r.target.value)}}}),s("div",{staticClass:"flex__contraseña__icon"},[s("i",{staticClass:"fas fa-eye",on:{click:function(r){return e.mostrarContrasena()}}})])]),e.$v.users.contrasena.valid?e._e():s("div",{staticClass:"form_check-error"},[e._v(" La contraseña debe contener Mínimo 8 caracteres y al menos una mayuscula, minuscula un número y un caracter especial de las siguientes opciones: #?!@$%^&*- ")]),e.$v.users.contrasena.required?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.contrasena.maxLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Contraseña muy larga máximo "+e._s(e.$v.users.contrasena.$params.maxLength.max)+" caracteres. ")])]),s("div",{staticClass:"form__section2"},[s("div",{staticClass:"formulario_label"},[e._v("Confirmar Contraseña:")]),s("div",{staticClass:"flex__contraseña"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.users.confirmarContraseña,expression:"users.confirmarContraseña"}],class:e.$v.users.confirmarContraseña.$invalid?"form_check-input-error":"form__input",attrs:{type:"password",id:"password2",placeholder:"Ingrese su contraseña"},domProps:{value:e.users.confirmarContraseña},on:{input:function(r){r.target.composing||e.$set(e.users,"confirmarContraseña",r.target.value)}}}),s("div",{staticClass:"flex__contraseña__icon"},[s("i",{staticClass:"fas fa-eye",on:{click:function(r){return e.mostrarContrasena2()}}})])]),e.$v.users.confirmarContraseña.required?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Campo obligatorio. ")]),e.$v.users.confirmarContraseña.sameAsPassword?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Las contraseñas debe coincidir. ")]),e.$v.users.confirmarContraseña.maxLength?e._e():s("div",{staticClass:"form_check-error"},[e._v(" Contraseña muy larga maximo "+e._s(e.$v.users.confirmarContraseña.$params.maxLength.max)+" caracteres. ")])]),s("div",{staticClass:"form__section3"},[s("div",{staticClass:"fomrm__section__item"},[s("div",{staticClass:"container-facu"},[s("div",{staticClass:"container__label"},[e._v("Facultad:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.users.facultad,expression:"users.facultad"}],staticClass:"container__list",on:{change:[function(r){var s=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var r="_value"in e?e._value:e.value;return r}));e.$set(e.users,"facultad",r.target.multiple?s:s[0])},function(r){return e.obtenerDepartamentos()}]}},[s("option",{attrs:{disabled:"true"}},[e._v(e._s(e.users.facultad))]),e._l(e.listfacultad,(function(r,t){return s("option",{key:t,staticClass:"container__list__option",domProps:{value:r}},[e._v(" "+e._s(r))])}))],2)])]),s("div",{staticClass:"fomrm__section__item"},[s("lista-desplegable",{key:e.componentKey,attrs:{required:"",nombreLista:"Departamento:",lista:e.listDepartament,value:e.users.departamento},model:{value:e.users.departamento,callback:function(r){e.$set(e.users,"departamento",r)},expression:"users.departamento"}})],1),s("div",{staticClass:"fomrm__section__item"},[s("lista-desplegable",{key:e.componentKey1,attrs:{nombreLista:"Rol:",lista:e.listRoles,value:e.users.nombre_rol},model:{value:e.users.nombre_rol,callback:function(r){e.$set(e.users,"nombre_rol",r)},expression:"users.nombre_rol"}})],1)]),e._m(2),s("Alert",{ref:"alert"})],1)])])])},o=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"form__image"},[t("img",{attrs:{src:s("7781"),alt:""}})])},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"titulo"},[s("div",{staticClass:"tii"},[s("h2",{staticClass:"item_title"},[e._v("Registrar Usuario")])]),s("div",{staticClass:"form_desc"},[e._v(" Ingrese los datos del usuario. ")])])},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"boton"},[s("input",{staticClass:"boton__input",attrs:{type:"submit",value:"Confirmar"}})])}],i=s("1da1"),c=s("5530"),u=(s("a434"),s("ac1f"),s("466d"),s("96cf"),s("b5ae")),l=s("f3c4"),m=s("2f62"),d=s("c906"),p=u["helpers"].regex("alpha1",/^[a-zA-Z0-9ñ+áéíóúÁÉÍÓÚ.\s]*$/),v={components:{ListaDesplegable:l["a"],Alert:d["a"]},name:"RegisterUser",computed:Object(c["a"])({},Object(m["c"])(["token"])),data:function(){return{users:{nombre_usuario:null,contrasena:null,"confirmarContraseña":null,nombres:null,apellidos:null,celular:null,facultad:"Seleccione una opcion",departamento:"Seleccione una opcion",nombre_rol:"Seleccione una opcion"},listDepartament:[],listfacultad:[],listRoles:[],componentKey:0,componentKey1:0}},validations:{users:{nombres:{required:u["required"],minLength:Object(u["minLength"])(3),maxLength:Object(u["maxLength"])(20),alpha1:p},apellidos:{required:u["required"],minLength:Object(u["minLength"])(4),maxLength:Object(u["maxLength"])(30),alpha1:p},nombre_usuario:{required:u["required"],minLength:Object(u["minLength"])(3),maxLength:Object(u["maxLength"])(20),alpha1:p},contrasena:{required:u["required"],minLength:Object(u["minLength"])(8),maxLength:Object(u["maxLength"])(20),valid:function(e){var r=/[A-Z]/.test(e),s=/[0-9]/.test(e),t=/[a-z]/.test(e),a=/[#?!@$%^&*-]/.test(e);return r&&t&&s&&a}},"confirmarContraseña":{required:u["required"],minLength:Object(u["minLength"])(8),maxLength:Object(u["maxLength"])(20),sameAsPassword:Object(u["sameAs"])("contrasena")},celular:{required:u["required"],maxLength:Object(u["maxLength"])(8),integer:u["integer"]},facultad:{required:u["required"]},departamento:{required:u["required"]},nombre_rol:{required:u["required"]}}},mounted:function(){this.obtenerFacultades(),this.obtenerRoles()},methods:Object(c["a"])(Object(c["a"])({},Object(m["b"])(["datosProtegidos"])),{},{forceRerender:function(){this.componentKey+=1},forceRerender1:function(){this.componentKey1+=1},obtenerFacultades:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var s,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("faculty",{headers:{authorization:e.token}});case 2:for(s=r.sent.data,console.log("lista"),console.log(s),t=0;t<s.length;t++)e.listfacultad.push(s[t].nombre_facultad);case 6:case"end":return r.stop()}}),r)})))()},obtenerDepartamentos:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var s,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.listDepartament=[],r.next=3,e.$http.get("department?facu=".concat(e.users.facultad),{headers:{authorization:e.token}});case 3:for(s=r.sent.data,t=0;t<s.length;t++)e.listDepartament.push(s[t].nombre_departamento);s.splice(1,5),console.log(s.data);case 7:case"end":return r.stop()}}),r)})))()},obtenerRoles:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var s,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("roles",{headers:{authorization:e.token}});case 2:for(s=r.sent.data.datos,t=0;t<s.length;t++)e.listRoles.push(s[t].nombre_rol);case 4:case"end":return r.stop()}}),r)})))()},keyhandler:function(e){e.key.match(/^[a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ.\s]*$/)||e.preventDefault()},submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,e.$v.users.$invalid){r.next=23;break}return console.log("creo"),r.next=5,e.sendDataUsers();case 5:return r.next=7,e.sendUserDepartment();case 7:return r.next=9,e.sendUsernameRol();case 9:e.alert("success","Usuario creado exitosamente"),e.users.nombre_usuario=null,e.users.contrasena=null,e.users.confirmarContraseña=null,e.users.nombres=null,e.users.apellidos=null,e.users.celular=null,e.users.facultad="Seleccione una opcion",e.users.departamento="Seleccione una opcion",e.users.nombre_rol="Seleccione una opcion",e.forceRerender(),e.forceRerender1(),r.next=24;break;case 23:e.alert("warning","Rellene todos los datos correctamente");case 24:r.next=29;break;case 26:r.prev=26,r.t0=r["catch"](0),e.alert("warning",r.t0);case 29:case"end":return r.stop()}}),r,null,[[0,26]])})))()},sendUserDepartment:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log("departamento"),r.next=4,e.$http.post("usersPerDeparment",{nombre_departamento:e.users.departamento,nombre_usuario:e.users.nombre_usuario},{headers:{authorization:e.token}});case 4:r.next=9;break;case 6:throw r.prev=6,r.t0=r["catch"](0),new Error("Error departamento");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},sendUsernameRol:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log("roles"),r.next=4,e.$http.post("usersPerRole",{nombre_rol:e.users.nombre_rol,nombre_usuario:e.users.nombre_usuario},{headers:{authorization:e.token}});case 4:r.next=9;break;case 6:throw r.prev=6,r.t0=r["catch"](0),new Error("Error Roles");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},sendDataUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e.users),r.next=4,e.$http.post("users",{nombre_usuario:e.users.nombre_usuario,contrasena:e.users.contrasena,nombres:e.users.nombres,apellidos:e.users.apellidos,celular:e.users.celular,facultad:e.users.facultad,departamento:e.users.departamento},{headers:{authorization:e.token}});case 4:r.next=9;break;case 6:throw r.prev=6,r.t0=r["catch"](0),new Error("El nombre de usuario ya fue registrado");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},alert:function(e,r){this.$refs.alert.showAlert(e,r)},mostrarContrasena:function(){var e=document.getElementById("password");"password"==e.type?e.type="text":e.type="password"},mostrarContrasena2:function(){var e=document.getElementById("password2");"password"==e.type?e.type="text":e.type="password"}})},_=v,f=(s("dbe2"),s("2877")),h=Object(f["a"])(_,n,o,!1,null,"7750da23",null),b=h.exports,g={components:{RegisterUser:b},name:"RegisterUserPage"},C=g,x=(s("da53"),Object(f["a"])(C,t,a,!1,null,"1df54eb2",null));r["default"]=x.exports},"466d":function(e,r,s){"use strict";var t=s("d784"),a=s("825a"),n=s("50c4"),o=s("1d80"),i=s("8aa5"),c=s("14c3");t("match",1,(function(e,r,s){return[function(r){var s=o(this),t=void 0==r?void 0:r[e];return void 0!==t?t.call(r,s):new RegExp(r)[e](String(s))},function(e){var t=s(r,e,this);if(t.done)return t.value;var o=a(e),u=String(this);if(!o.global)return c(o,u);var l=o.unicode;o.lastIndex=0;var m,d=[],p=0;while(null!==(m=c(o,u))){var v=String(m[0]);d[p]=v,""===v&&(o.lastIndex=i(u,n(o.lastIndex),l)),p++}return 0===p?null:d}]}))},5103:function(e,r,s){},7781:function(e,r,s){e.exports=s.p+"img/edificioUMSS.b7849db4.jpg"},c906:function(e,r,s){"use strict";var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return e.show?s("div",{staticClass:"alert",class:e.type},[s("span",{staticClass:"closebtn",on:{click:function(r){return e.hideAlert()}}},[e._v("×")]),e._v(" "+e._s(e.message)+" ")]):e._e()},a=[],n={name:"Alert",data:function(){return{show:!1,type:"",message:""}},methods:{showAlert:function(e,r){this.type=e,this.message=r,this.show=!0},hideAlert:function(){this.show=!1}}},o=n,i=(s("1414"),s("2877")),c=Object(i["a"])(o,t,a,!1,null,"dedf184a",null);r["a"]=c.exports},d37b:function(e,r,s){},da53:function(e,r,s){"use strict";s("d37b")},dbe2:function(e,r,s){"use strict";s("fb65")},fb65:function(e,r,s){}}]);
//# sourceMappingURL=chunk-02e1be21.e806ca94.js.map